# Return-to-libc attacks 

A ROP technique. 

### Characteristics:

- Need a buffer overflow
- Need to bypass stack canary
- Can bypass NX (ROP)

### Implementation:

- Make EBP (stack frame pointer) point to address of libc function: `system()`
- Make EIP (stack return address) point to address of `exit()` function 
- Overwrite stack arguments to be arguments to pass to the libc function

Stack grows upwards towards lower memory addresses. Push in order: 

1. Function arguments in reversed order 
2. EIP
3. EBP 
4. Local variables <- AAAAAAAA overflowed buffer 

### Lab:

1. Get the address of relevant functions: 
```bash
objdump -D retlib.c | grep "function\_name\|functionb\_name"
```

